# Database (local Docker Postgres by default)
#
# Supabase (recommended on Vercel):
# - DATABASE_URL: Supabase "Connection pooler" connection string (include `pgbouncer=true`)
# - DIRECT_URL: Supabase "Direct connection" connection string (used for Prisma migrations)
DATABASE_URL="postgresql://minebench:minebench@localhost:54327/minebench?schema=public"
DIRECT_URL="postgresql://minebench:minebench@localhost:54327/minebench?schema=public"

# Admin
ADMIN_TOKEN=

# Supabase Storage (recommended for large build uploads, e.g. 50-100MB+)
# Used by scripts/batch-generate.ts and storage-backed build reads in API routes.
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_STORAGE_BUCKET=builds
SUPABASE_STORAGE_PREFIX=imports

# AI providers (direct keys - set the ones you have)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_AI_API_KEY=
MOONSHOT_API_KEY=
DEEPSEEK_API_KEY=
XAI_API_KEY=

# OpenRouter (alternative/fallback for all providers)
# If a direct provider key is missing or fails, OpenRouter will be used as fallback
OPENROUTER_API_KEY=

# Optional SEO verification token (Google Search Console)
GOOGLE_SITE_VERIFICATION=

# Optional overrides (defaults are used if unset)
# Claude Opus 4.6 adaptive thinking effort: low | medium | high | max
ANTHROPIC_OPUS_4_6_EFFORT=max
# Claude Sonnet 4.6 adaptive thinking effort: low | medium | high (max is unsupported)
ANTHROPIC_SONNET_4_6_EFFORT=high
# Stream Anthropic responses (recommended for long-thinking runs)
ANTHROPIC_STREAM_RESPONSES=1
# Stream OpenAI responses (recommended for long-running GPT-5 Pro generations)
OPENAI_STREAM_RESPONSES=1
# Use OpenAI background mode for long-running Responses API models (default true for gpt-5.2-pro)
OPENAI_USE_BACKGROUND_MODE=1
# Poll interval (ms) while waiting on background Responses jobs
OPENAI_BACKGROUND_POLL_MS=2000
# Optional timeout overrides (ms) for very long OpenAI runs
OPENAI_GPT5_PRO_TIMEOUT_MS=7200000
OPENAI_REQUEST_TIMEOUT_MS=
# Enable 1M-context beta header for supported Claude models (Tier 4+ required)
ANTHROPIC_ENABLE_1M_CONTEXT_BETA=1
MOONSHOT_BASE_URL="https://api.moonshot.cn"
DEEPSEEK_BASE_URL="https://api.deepseek.com"
OPENROUTER_BASE_URL="https://openrouter.ai/api"

# Arena large-build loading controls
# Serve preview-first builds from /api/arena/matchup and hydrate full builds in background.
ARENA_ARTIFACTS_ENABLED=1
ARENA_PREVIEW_STAGE_ENABLED=1
# Estimated full-build byte threshold before matchup serves preview first.
ARENA_PREVIEW_TRIGGER_BYTES=52428800
# Only builds at/above this JSON byte size are eligible for stream artifact storage.
ARENA_ARTIFACT_MIN_BYTES=52428800
# Adaptive shell route uses snapshot (non-stream) up to this size.
ARENA_SNAPSHOT_MAX_BYTES=20971520
# Server timeout for artifact fetch before falling back to live stream.
ARENA_STREAM_ARTIFACT_FETCH_TIMEOUT_MS=3500
# Target block budget for generated preview build (surface-focused).
ARENA_PREVIEW_TARGET_BLOCKS=900000
# In-memory server cache bounds for prepared arena artifacts.
ARENA_ARTIFACT_CACHE_MAX_ENTRIES=24
ARENA_ARTIFACT_CACHE_MAX_WEIGHT=180000000
# Client-side cap for automatic full-build hydration (bytes).
NEXT_PUBLIC_ARENA_FULL_AUTOFETCH_MAX_BYTES=500000000
# Client hydration watchdog timeouts (ms).
NEXT_PUBLIC_ARENA_SNAPSHOT_TIMEOUT_MS=12000
NEXT_PUBLIC_ARENA_STREAM_REQUEST_TIMEOUT_MS=12000
NEXT_PUBLIC_ARENA_STREAM_FIRST_EVENT_TIMEOUT_MS=6000
NEXT_PUBLIC_ARENA_STREAM_STALL_TIMEOUT_MS=10000
NEXT_PUBLIC_ARENA_STREAM_HARD_TIMEOUT_MS=35000
NEXT_PUBLIC_ARENA_BUILD_STUCK_AUTOSKIP_MS=45000
